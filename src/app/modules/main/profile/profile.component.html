<div class="container py-4 mt-nav">
  <div *ngIf="loading" class="text-center my-3">
    <div class="spinner-border text-primary" role="status"></div>
  </div>

  <div *ngIf="!loading">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="border p-4 rounded shadow">
      <h4 class="mb-4"><i class="fa fa-user-circle me-2"></i>Update Profile</h4>

      <div class="row">
        <!-- First Name -->
        <div class="mb-3 col-md-6">
          <label>First Name</label>
          <input type="text" class="form-control" formControlName="firstName" />
        </div>

        <!-- Last Name -->
        <div class="mb-3 col-md-6">
          <label>Last Name</label>
          <input type="text" class="form-control" formControlName="lastName" />
        </div>

        <!-- Username -->
        <div class="mb-3 col-md-6">
          <label>Username</label>
          <input type="text" class="form-control" formControlName="userName" />
        </div>

        <!-- Phone Number -->
        <div class="mb-3 col-md-6">
          <label>Phone Number</label>
          <input type="text" class="form-control" formControlName="phoneNumber" />
        </div>

        <!-- Date of Birth -->
        <div class="mb-3 col-md-6">
          <label>Date of Birth</label>
          <input type="date" class="form-control" formControlName="dateOfBirth" />
        </div>

        <!-- Profile Image Upload -->
        <div class="mb-3 col-md-6">
          <label>Profile Image</label>
          <input type="file" class="form-control" (change)="onFileChange($event)" />
          <div class="mt-2" *ngIf="previewImageUrl">
            <img [src]="previewImageUrl" class="img-thumbnail" style="max-height: 120px;" />
          </div>
        </div>
      </div>

      <!-- Success & Error Messages -->
      <div *ngIf="successMsg" class="alert alert-success">{{ successMsg }}</div>
      <div *ngIf="errorMsg" class="alert alert-danger">{{ errorMsg }}</div>

      <!-- Submit -->
      <button type="submit" class="btn btn-primary mt-3" [disabled]="loading || profileForm.invalid">
        <i class="fa fa-save me-1"></i> Save Changes
      </button>
    </form>
  </div>
</div>
