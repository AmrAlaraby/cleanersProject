<div class="container py-4 mt-nav">
  <div *ngIf="loading" class="text-center my-3">
    <div class="spinner-border text-primary" role="status"></div>
  </div>

  <div *ngIf="!loading">
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="border p-4 rounded shadow">
      <h4 class="mb-4">
        <i class="fa fa-user-circle me-2"></i> {{ 'PROFILEC.UPDATE_TITLE' | translate }}
      </h4>

      <div class="row">
        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.FIRST_NAME' | translate }}</label>
          <input type="text" class="form-control" formControlName="firstName" />
        </div>

        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.LAST_NAME' | translate }}</label>
          <input type="text" class="form-control" formControlName="lastName" />
        </div>

        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.USERNAME' | translate }}</label>
          <input type="text" class="form-control" formControlName="userName" />
        </div>

        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.PHONE_NUMBER' | translate }}</label>
          <input type="text" class="form-control" formControlName="phoneNumber" />
        </div>

        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.DATE_OF_BIRTH' | translate }}</label>
          <input type="date" class="form-control" formControlName="dateOfBirth" />
        </div>

        <div class="mb-3 col-md-6">
          <label>{{ 'PROFILEC.PROFILE_IMAGE' | translate }}</label>
          <input type="file" class="form-control" (change)="onFileChange($event)" />
          <div class="mt-2" *ngIf="previewImageUrl">
            <img [src]="previewImageUrl" class="img-thumbnail" style="max-height: 120px;" />
          </div>
        </div>
      </div>

      <div *ngIf="successMsg" class="alert alert-success">{{ successMsg }}</div>
      <div *ngIf="errorMsg" class="alert alert-danger">{{ errorMsg }}</div>

      <button type="submit" class="btn btn-primary mt-3" [disabled]="loading || profileForm.invalid">
        <i class="fa fa-save me-1"></i> {{ 'PROFILEC.SAVE_CHANGES' | translate }}
      </button>
    </form>
  </div>
</div>
